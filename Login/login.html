<!DOCTYPE html>
<html lang="en">

<head>
  <title>Glassmorphism Login Form</title>
  <link rel="stylesheet" href="./login.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;600&display=swap" rel="stylesheet">

</head>

<body>
  <div class="background">
    <div class="shape"></div>
    <div class="shape"></div>
  </div>

  <form>
    <h3>Login Here</h3>

    <label for="username">Username</label>
    <input type="text" placeholder="Email or Phone" id="username">

    <label for="password">Password</label>
    <input type="password" placeholder="Password" id="password">

    <button type="submit">Log In</button>
    <button href="./signup.html" type="button"> Sign Up </button>
  </form>

  <script>
    document.querySelector("form").addEventListener("submit", async function (event) {
      event.preventDefault();

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      // Replace with your Google Apps Script URL
      const scriptURL = "https://script.google.com/macros/s/AKfycbxC9zGOA_Wvk4cMXqo107ykCXGs-3dik8VnAEsupaVPdlkpF0nrP8I6MLgc9qXNcuLW/exec";

      const response = await fetch(scriptURL, {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: `username=${encodeURIComponent(username)}&password=${encodeURIComponent(password)}`
      });

      const result = await response.json();

      if (result.success) {
        alert("Login successful!");
        window.location.href = "index.html";  // Redirect to the dashboard
      } else {
        alert(result.message || "Invalid username or password.");
      }
    });
  </script>
</body>

</html>